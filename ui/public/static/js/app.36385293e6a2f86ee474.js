webpackJsonp([1],{A8kR:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("//Fk"),n=s.n(a),i=s("7+uW"),o=s("mtWM"),r=s.n(o),l=s("vQJi"),c=s.n(l),u=s("Rf8U"),v=s.n(u),p=s("K/Lq"),d=s.n(p),m={activeAdminPage:"",activePage:"",appInitialized:!1,appOrganization:"Mangle",appVersion:"",profile:{},events:new i.a},_={data:function(){return{toastr:c.a,store:m}},mounted:function(){this.setActivePage(),this.getProfile()},methods:{getProfile:function(){var t=this;this.axios.get("/profile").then(function(e){t.store.profile=e.data,t.store.appInitialized=!0})},hideModals:function(){$(".ui.modal").modal("hide all")},showModal:function(t,e){var s=this[t];return void 0===s&&void 0===(s=$("#"+t))?(console.error("failed to find modal with ID: "+t),!1):(e instanceof Object&&s.modal(e),s.modal("show"),!0)},setActivePage:function(){this.store.activePage=this.$router.currentRoute.path.split("/")[1]}}},h={name:"Header",mixins:[_],watch:{$route:function(t,e){this.setActivePage()}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui fixed inverted menu",staticStyle:{padding:"0.66em 0"}},[s("div",{staticClass:"ui container",staticStyle:{width:"1024px"}},[s("a",{staticClass:"header item",attrs:{href:"/#/"}},[t._v("\n      "+t._s(t.store.appOrganization)+" VPN\n    ")]),t._v(" "),null!==t.store.profile?s("div",{staticClass:"left menu"},[s("a",{class:["item",{active:""===t.store.activePage}],attrs:{href:"/#/"}},[t._v("\n        Home\n      ")]),t._v(" "),t.store.profile.is_admin?s("a",{class:["item",{active:"admin"===t.store.activePage}],attrs:{href:"/#/admin"}},[t._v("\n        Administration\n      ")]):t._e(),t._v(" "),s("a",{staticClass:"item",attrs:{href:"/logout"}},[t._v("\n        Logout\n      ")])]):t._e(),t._v(" "),null!==t.store.profile?s("div",{staticClass:"right menu"},[s("div",{staticClass:"item"},[t._v("\n        "+t._s(t.store.profile.email)+"\n      ")])]):t._e()])])},staticRenderFns:[]},g={name:"App",mixins:[_],components:{AppHeader:s("VU/8")(h,f,!1,null,null,null).exports},mounted:function(){var t=this;this.axios.get("/info").then(function(e){t.store.appOrganization=e.data.app_organization,t.store.appVersion=e.data.app_version})},watch:{"store.appOrganization":function(t,e){document.title=this.store.appOrganization+" VPN"}}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("app-header"),this._v(" "),e("div",{staticClass:"ui container grid stackable",attrs:{id:"mainContainer"}},[e("router-view")],1)],1)},staticRenderFns:[]};var w=s("VU/8")(g,b,!1,function(t){s("A8kR")},null,null).exports,C=s("/ocq"),y={AppComponentMixin:{data:function(){return{toastr:c.a,store:m}},mounted:function(){this.setActivePage()},methods:{hideModals:function(){$(".ui.modal").modal("hide all")},showModal:function(t,e){this.hideModals(),void 0!==e&&this[t].modal(e),this[t].modal("show")},getProfile:function(){var t=this;this.axios.get("/profile").then(function(e){t.store.profile=e.data,t.store.appInitialized=!0})},setActivePage:function(){this.store.activePage=this.$router.currentRoute.path.split("/")[1]}},watch:{$route:function(t,e){this.setActivePage()}}},PaginationMixin:{data:function(){return{page:1,pageSize:10,search:"",total:0}},methods:{performSearchOnType:function(t){this.page=1,t()},nextPage:function(t){this.hasNextPage&&(this.page++,t())},prevPage:function(t){this.hasPrevPage&&(this.page--,t())},getTotalPages:function(){return Math.ceil(this.total/this.pageSize)}},computed:{hasNextPage:function(){return this.page<this.getTotalPages()},hasPrevPage:function(){return this.page>1}}}},x=function(t,e,s){for(var a=0;a<t.length;a++)if(t[a][e]===s)return void t.splice(a,1)},P=function(t){for(var e in t)null===t[e]&&(t[e]="")},S={name:"Profile",mixins:[y.AppComponentMixin],data:function(){return{createDeviceModal:null,createdDevice:{},downloadModal:null,errors:{},revokeDeviceModal:null,newDevice:{},creatingDevice:!1}},mounted:function(){$(".secondary.menu .item").tab(),this.createDeviceModal=$("#createDeviceModal").modal({onShow:this.onCreateDeviceModalShow,onHide:this.onCreateDeviceModalHide}),this.revokeDeviceModal=$("#revokeDeviceModal").modal()},methods:{createDevice:function(){var t=this;$("#downloadConfigButton").addClass("loading disabled"),this.axios.post("/devices/",this.newDevice).then(function(e){t.store.profile.devices.push(e.data),t.creatingDevice=!1,t.createdDevice=e.data,t.downloadDevice(t.newDevice.os),t.newDevice={}}).catch(function(e){$("#downloadConfigButton").removeClass("loading disabled"),t.errors=e.response.data})},deleteDevice:function(t){var e=this;this.showModal("revokeDeviceModal",{onApprove:function(s){e.axios.delete("/devices/"+t.id+"/").then(function(s){x(e.store.profile.devices,"id",t.id),e.toastr.success("The device was deleted.","Deleted")})}})},downloadDevice:function(t){window.location.href="/api/devices/"+this.createdDevice.id+"?os="+t,this.createdDevice={},this.hideModals(),this.toastr.success("Device Created.","Your device was created.")},onCreateDeviceModalShow:function(t){$("#downloadConfigButton").removeClass("loading disabled"),$("#operatingSystemDropdown").dropdown("restore defaults")},onCreateDeviceModalHide:function(t){this.errors={},this.newDevice={}}},computed:{canCreateDevices:function(){return void 0!==this.store.profile.devices&&this.store.profile.devices.length<this.store.profile.group.max_devices},hasDevices:function(){return void 0!==this.store.profile.devices&&this.store.profile.devices.length>0}}},D={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui row"},[s("div",{staticClass:"ten wide column"},[s("h1",[t._v("Getting Started")]),t._v(" "),s("p",[t._v("\n      Generate and download an OpenVPN configuration file for each of your devices by clicking the\n      "),s("a",{attrs:{href:"#"},on:{click:function(e){t.showModal("createDeviceModal")}}},[t._v("New Device")]),t._v(" button on the right and follow the instructions\n      below for your device's operating system.\n    ")]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"ui divider"}),t._v(" "),s("p",[t._v("\n      In order to connect to the OpenVPN server with your devices, you are required to authenticate before each session\n      using the following credentials:\n    ")]),t._v(" "),s("div",{staticClass:"ui message"},[s("table",{staticStyle:{margin:"0 auto"}},[s("tr",[s("td",{staticStyle:{"font-weight":"bold",width:"25%"}},[t._v("Username:")]),t._v(" "),s("td",{staticStyle:{"font-style":"italic"}},[t._v(t._s(t.store.profile.email))])]),t._v(" "),t._m(1)])]),t._v(" "),t._m(2),t._v(" "),s("div",{staticClass:"ui divider"}),t._v(" "),s("p",[t._v("\n      Follow the instructions for your device's operating system in order to setup your OpenVPN client and connect to\n      the OpenVPN server.\n    ")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7)]),t._v(" "),s("div",{staticClass:"six wide column"},[s("div",{staticClass:"ui fluid vertical menu"},[t._m(8),t._v(" "),t._l(t.store.profile.devices,function(e){return t.hasDevices?s("div",{staticClass:"item",staticStyle:{"padding-top":"1.1em"}},[s("div",[t._v("\n          "+t._s(e.name)+"\n          "),s("p",{staticClass:"device-expires"},[t._v("Created: "+t._s(t._f("prettyDate")(e.created_at)))])]),t._v(" "),s("button",{staticClass:"ui mini icon negative basic right floated button",staticStyle:{"margin-top":"-3em"},on:{click:function(s){t.deleteDevice(e)}}},[s("i",{staticClass:"ui icon times"}),t._v("\n          Revoke\n        ")])]):t._e()}),t._v(" "),t.hasDevices?t._e():s("div",{staticClass:"item",staticStyle:{padding:"1.5em","text-align":"center"}},[s("i",{staticClass:"device-expires"},[t._v("\n          You have no devices :(\n        ")])])],2),t._v(" "),t.canCreateDevices?s("div",{staticStyle:{"text-align":"right"}},[s("button",{staticClass:"ui button small green",on:{click:function(e){t.showModal("createDeviceModal")}}},[s("i",{staticClass:"ui plus icon"}),t._v("\n        New Device\n      ")])]):t._e(),t._v(" "),t._m(9),t._v(" "),s("div",{staticClass:"ui small modal",attrs:{id:"createDeviceModal"}},[t._m(10),t._v(" "),s("div",{staticClass:"content",staticStyle:{padding:"2em 3em 1em 3em"}},[s("p",[t._v("\n        You must create and install an OpenVPN configuration file for each device you wish to\n        connect with to the OpenVPN server.\n      ")]),t._v(" "),s("h4",[t._v("OpenVPN Credentials")]),t._v(" "),s("p",[t._v("\n        In order to connect to the OpenVPN server with your devices, you are required to authenticate before each session\n        using the following credentials:\n      ")]),t._v(" "),s("div",{staticClass:"ui message"},[s("table",{staticStyle:{margin:"0 auto"}},[s("tr",[s("td",{staticStyle:{"font-weight":"bold",width:"25%"}},[t._v("Username:")]),t._v(" "),s("td",{staticStyle:{"font-style":"italic"}},[t._v(t._s(t.store.profile.email))])]),t._v(" "),t._m(11)])]),t._v(" "),s("div",{staticClass:"ui form",staticStyle:{margin:"2em 0 1em 0"}},[s("table",{staticClass:"ui very basic table"},[s("tr",[t._m(12),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newDevice.name,expression:"newDevice.name"}],attrs:{type:"text"},domProps:{value:t.newDevice.name},on:{input:function(e){e.target.composing||t.$set(t.newDevice,"name",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n                "+t._s(t._f("error")(t.errors.name))+"\n              ")])])]),t._v(" "),s("tr",[t._m(13),t._v(" "),s("td",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.newDevice.os,expression:"newDevice.os"}],staticClass:"ui dropdown",attrs:{id:"operatingSystemDropdown"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newDevice,"os",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select Operating System")]),t._v(" "),s("option",{attrs:{value:"windows"}},[t._v("Microsoft Windows")]),t._v(" "),s("option",{attrs:{value:"macos"}},[t._v("Apple macOS")]),t._v(" "),s("option",{attrs:{value:"linux"}},[t._v("Linux")])]),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n                "+t._s(t._f("error")(t.errors.os))+"\n              ")])])])])])]),t._v(" "),s("div",{staticClass:"actions",staticStyle:{"text-align":"center"}},[s("button",{staticClass:"ui cancel button"},[t._v("\n        Cancel\n      ")]),t._v(" "),s("button",{staticClass:"ui green button",attrs:{id:"downloadConfigButton"},on:{click:t.createDevice}},[t._v("\n        Download Configuration\n      ")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticStyle:{"margin-top":"2.5em"}},[e("i",{staticClass:"lock icon"}),this._v("OpenVPN Authentication\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticStyle:{"font-weight":"bold",width:"25%"}},[this._v("Password:")]),this._v(" "),e("td",{staticStyle:{"font-style":"italic"}},[this._v("<the two-factor auth code from your mobile app>")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticStyle:{"margin-top":"2.5em"}},[e("i",{staticClass:"keyboard icon"}),this._v("OpenVPN Client Setup\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n      In addition to the desktop clients, the OpenVPN Connect mobile application is available from both the\n      "),e("a",{attrs:{href:"https://play.google.com/store/apps/details?id=net.openvpn.openvpn"}},[this._v("Android Play Store")]),this._v(" and\n      "),e("a",{attrs:{href:"https://itunes.apple.com/us/app/openvpn-connect/id590379981?mt=8"}},[this._v("Apple App Store")]),this._v(".\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui pointing secondary menu",staticStyle:{"margin-top":"2em"}},[e("a",{staticClass:"active item",attrs:{"data-tab":"macos"}},[e("i",{staticClass:"apple icon left"}),this._v(" Apple macOS\n      ")]),this._v(" "),e("a",{staticClass:"item",attrs:{"data-tab":"windows"}},[e("i",{staticClass:"windows icon left"}),this._v(" Microsoft Windows\n      ")]),this._v(" "),e("a",{staticClass:"item",attrs:{"data-tab":"linux"}},[e("i",{staticClass:"linux icon left"}),this._v(" Ubuntu 16.04+\n      ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui active tab",attrs:{"data-tab":"macos"}},[s("p",[t._v("\n        The following instructions describe how to install and configure the OpenVPN client when using an Apple macOS\n        device, such as a Macbook or Mac Pro.\n      ")]),t._v(" "),s("ol",[s("li",[t._v("\n          Download and install the "),s("a",{attrs:{href:"https://tunnelblick.net/release/Tunnelblick_3.7.6a_build_5080.dmg"}},[t._v("\n          Tunnelblick")]),t._v(" client\n        ")]),t._v(" "),s("li",[t._v("Download and double click a device configuration file (.ovpn) to import it")]),t._v(" "),s("li",[t._v("Click the Tunnelblick application icon on the macOS status bar and click Connect")]),t._v(" "),s("li",[t._v("Enter your username (e-mail address) and password (the two-factor authentication code from your mobile app)")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui tab",attrs:{"data-tab":"windows"}},[s("p",[t._v("\n        The following instructions describe how to install and configure the OpenVPN client when using a Microsoft\n        Windows device, such as a laptop or desktop.\n      ")]),t._v(" "),s("ol",[s("li",[t._v("\n          Download and install the latest "),s("a",{attrs:{href:"https://openvpn.net/index.php/open-source/downloads.html"}},[t._v("\n          official OpenVPN client")])]),t._v(" "),s("li",[t._v("\n          Right click the OpenVPN GUI icon in the Windows system tray and click "),s("i",[t._v("Import File...")]),t._v(" to import\n          the device configuration (.ovpn) file\n        ")]),t._v(" "),s("li",[t._v("Right click the OpenVPN GUI icon in the Windows status tray and select Connect")]),t._v(" "),s("li",[t._v("Enter your username (e-mail address) and password (the two-factor authentication code from your mobile app)")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui tab",attrs:{"data-tab":"linux"}},[s("p",[t._v("\n        Download and run the "),s("a",{attrs:{href:"/scripts/openvpn-client-installer.sh"}},[t._v("OpenVPN client installation script")]),t._v(" which\n        will handle installation of OpenVPN and additional required packages.\n      ")]),t._v(" "),s("div",{staticClass:"ui message console"},[t._v("\n        $ chmod a+x openvpn-client-installer.sh\n        $ sudo ./openvpn-client-installer.sh\n      ")]),t._v(" "),s("p",[t._v("\n        Once OpenVPN has been installed, you can connect to the OpenVPN server using the following command. Be sure to\n        enter your username (e-mail address) and password (the two-factor authentication code from your mobile app):\n      ")]),t._v(" "),s("div",{staticClass:"ui message console"},[t._v("\n        $ sudo openvpn --config /path/to/config.ovpn\n      ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header item"},[e("i",{staticClass:"ui icon left laptop"}),this._v("\n        My Devices\n      ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui basic modal",attrs:{id:"revokeDeviceModal"}},[s("div",{staticClass:"ui icon header"},[s("i",{staticClass:"exclamation triangle icon red"}),t._v("\n      Revoke Device Confirmation\n    ")]),t._v(" "),s("div",{staticClass:"content",staticStyle:{"text-align":"center"}},[s("p",[t._v("\n        Revoking the device will make it no longer able to connect and will disconnect all\n        of its active OpenVPN clients.\n      ")]),t._v(" "),s("p",[s("b",[t._v("Are you sure you want to revoke the device?")])])]),t._v(" "),s("div",{staticClass:"actions",staticStyle:{"text-align":"center"}},[s("button",{staticClass:"ui basic inverted cancel button"},[t._v("\n        Cancel\n      ")]),t._v(" "),s("button",{staticClass:"ui basic red ok button"},[t._v("\n        Revoke Device\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("i",{staticClass:"ui icon left laptop"}),this._v("\n      New Device Configuration\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticStyle:{"font-weight":"bold",width:"25%"}},[this._v("Password:")]),this._v(" "),e("td",{staticStyle:{"font-style":"italic"}},[this._v("<the two-factor auth code from your mobile app>")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("label",{staticStyle:{"font-weight":"bold"}},[this._v("Device Name")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("label",{staticStyle:{"font-weight":"bold"}},[this._v("Operating System")])])}]};var N=s("VU/8")(S,D,!1,function(t){s("jPar")},null,null).exports,T={name:"Admin",mixins:[y.AppComponentMixin],data:function(){return{vpnStatus:!1,refreshInterval:null}},mounted:function(){this.setActiveAdminPage(),this.getOpenVPNStatus(),this.refreshInterval=setInterval(this.getOpenVPNStatus,5e3)},destroyed:function(){clearInterval(this.refreshInterval)},methods:{setActiveAdminPage:function(){this.store.activeAdminPage=this.$router.currentRoute.path.split("/")[2]},getOpenVPNStatus:function(){var t=this;this.axios.get("/admin/openvpn/").then(function(e){t.vpnStatus=e.data.status})},toggleOpenVPN:function(){var t=this;this.axios.get("/admin/openvpn/toggle/").then(function(e){t.vpnStatus=e.data.status}),!0===this.vpnStatus?this.toastr.success("Stopping the OpenVPN server.","Stopping"):this.toastr.success("Starting the OpenVPN server.","Starting")},restartOpenVPN:function(){var t=this;this.axios.get("/admin/openvpn/restart/").then(function(e){t.vpnStatus=e.data.status,t.store.events.$emit("vpnRestart")}),this.toastr.success("Restarting the OpenVPN server.","Restarting")},update:function(){var t=this;this.axios.post("/admin/update").then(function(e){t.toastr.success("Application was updated, reloading page...","Updated"),new n.a(function(t){return setTimeout(t,3e3)}).then(function(){location.reload(!0)})})}},watch:{$route:function(t,e){this.setActiveAdminPage()},vpnStatus:function(t,e){this.store.events.$emit("vpnStatusChange",t)}}},A={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui row"},[s("div",{staticClass:"four wide column"},[s("div",{staticClass:"ui fluid large pointing vertical menu"},[s("div",{staticClass:"header item"},[t._v("\n        Administration\n      ")]),t._v(" "),s("a",{class:["item",{active:"clients"===t.store.activeAdminPage}],attrs:{href:"/#/admin/clients"}},[s("i",{staticClass:"laptop icon left"}),t._v("\n        Clients\n      ")]),t._v(" "),s("a",{class:["item",{active:"users"===t.store.activeAdminPage}],attrs:{href:"/#/admin/users"}},[s("i",{staticClass:"user icon left"}),t._v("\n        Users\n      ")]),t._v(" "),s("a",{class:["item",{active:"groups"===t.store.activeAdminPage}],attrs:{href:"/#/admin/groups"}},[s("i",{staticClass:"users icon left"}),t._v("\n        Groups\n      ")]),t._v(" "),s("a",{class:["item",{active:"events"===t.store.activeAdminPage}],attrs:{href:"/#/admin/events"}},[s("i",{staticClass:"list icon left"}),t._v("\n        Events\n      ")]),t._v(" "),s("a",{class:["item",{active:"settings"===t.store.activeAdminPage}],attrs:{href:"/#/admin/settings"}},[s("i",{staticClass:"cog icon left"}),t._v("\n        Settings\n      ")])]),t._v(" "),!0===t.vpnStatus?s("div",[s("button",{staticClass:"ui button red fluid",on:{click:function(e){t.toggleOpenVPN()}}},[t._v("\n        Stop OpenVPN\n      ")]),t._v(" "),s("button",{staticClass:"ui button fluid",staticStyle:{"margin-top":"0.5em"},on:{click:function(e){t.restartOpenVPN()}}},[t._v("\n        Restart OpenVPN\n      ")])]):s("div",[s("button",{staticClass:"ui button green fluid",on:{click:function(e){t.toggleOpenVPN()}}},[t._v("\n      Start OpenVPN\n      ")])]),t._v(" "),s("div",{staticStyle:{"margin-top":"1em","text-align":"center"}},[t._v("\n      Mangle VPN v"+t._s(t.store.appVersion)+"\n      ("),s("a",{attrs:{href:"javascript:"},on:{click:t.update}},[t._v("update")]),t._v(")\n    ")])]),t._v(" "),s("div",{staticClass:"twelve wide column"},[s("router-view")],1)])},staticRenderFns:[]},k=s("VU/8")(T,A,!1,null,null,null).exports,R={name:"ClientList",mixins:[y.AppComponentMixin,y.PaginationMixin],data:function(){return{clients:[],refreshTimeout:null}},mounted:function(){this.getClients(),this.refreshTimeout=setInterval(this.getClients,5e3)},destroyed:function(){clearInterval(this.refreshTimeout)},methods:{getClients:function(){var t=this;this.axios.get("/admin/clients?search="+this.search+"&page="+this.page+"&size="+this.pageSize).then(function(e){t.clients=e.data.results,t.total=e.data.count})},deleteClient:function(t){var e=this;this.axios.delete("/admin/clients/"+t.id+"/").then(function(t){e.toastr.success("The client was disconnected.","Disconnected"),e.getClients()})}}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui row"},[s("div",{staticClass:"ui grid",attrs:{id:"pageHeader"}},[t._m(0),t._v(" "),s("div",{staticClass:"nine wide column page-actions"},[s("div",{staticClass:"ui icon mini input search"},[s("i",{staticClass:"search icon"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input",attrs:{type:"text",placeholder:"Search Clients..."},domProps:{value:t.search},on:{keyup:function(e){t.performSearchOnType(t.getClients)},input:function(e){e.target.composing||(t.search=e.target.value)}}})])])]),t._v(" "),t.clients.length>0?s("div",[s("table",{staticClass:"ui selectable table"},[t._m(1),t._v(" "),s("tbody",t._l(t.clients,function(e){return s("tr",[s("td",[s("a",{attrs:{href:"/#/admin/users/"+e.device.user.id}},[t._v("\n              "+t._s(e.device.user.email)+"\n            ")])]),t._v(" "),s("td",[t._v(t._s(e.virtual_ip))]),t._v(" "),s("td",[t._v(t._s(e.device.name))]),t._v(" "),s("td",[t._v(t._s(t._f("secsToHoursMins")(e.duration)))]),t._v(" "),s("td",[s("button",{staticClass:"ui mini basic negative button",on:{click:function(s){t.deleteClient(e)}}},[t._v("\n              Disconnect\n            ")])])])}),0)]),t._v(" "),s("div",{staticClass:"page-buttons"},[s("span",[t._v(t._s(t.total)+" Total")]),t._v(" "),s("button",{class:["ui tiny button",{disabled:!t.hasPrevPage}],on:{click:function(e){t.prevPage(t.getEvents)}}},[s("i",{staticClass:"angle left icon"}),t._v("\n        Prev\n      ")]),t._v(" "),s("button",{class:["ui tiny right button",{disabled:!t.hasNextPage}],on:{click:function(e){t.nextPage(t.getEvents)}}},[t._v("\n        Next\n        "),s("i",{staticClass:"angle right icon"})])])]):s("div",{staticClass:"empty",staticStyle:{padding:"2.5em 0"}},[s("i",{staticStyle:{color:"#888"}},[t._v("There are no active VPN clients.")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"seven wide column"},[e("h1",[this._v("VPN Clients")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticStyle:{width:"30%"}},[t._v("User")]),t._v(" "),s("th",{staticStyle:{width:"20%"}},[t._v("IP Address")]),t._v(" "),s("th",{staticStyle:{width:"25%"}},[t._v("Device")]),t._v(" "),s("th",{staticStyle:{width:"15%"}},[t._v("Duration")]),t._v(" "),s("th")])])}]},M=s("VU/8")(R,E,!1,null,null,null).exports,O={name:"EventList",mixins:[y.AppComponentMixin,y.PaginationMixin],data:function(){return{events:[],refreshTimeout:null}},mounted:function(){this.getEvents(),this.refreshTimeout=setInterval(this.getEvents,1e4)},destroyed:function(){clearInterval(this.refreshTimeout)},methods:{getEvents:function(){var t=this;this.axios.get("/admin/events?search="+this.search+"&page="+this.page+"&size="+this.pageSize).then(function(e){t.events=e.data.results,t.total=e.data.count})}}},I={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui row"},[s("div",{staticClass:"ui grid",attrs:{id:"pageHeader"}},[t._m(0),t._v(" "),s("div",{staticClass:"nine wide column page-actions"},[s("div",{staticClass:"ui icon mini input search"},[s("i",{staticClass:"search icon"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input",attrs:{type:"text",placeholder:"Search Events..."},domProps:{value:t.search},on:{keyup:function(e){t.performSearchOnType(t.getEvents)},input:function(e){e.target.composing||(t.search=e.target.value)}}})])])]),t._v(" "),s("table",{staticClass:"ui selectable table"},[t._m(1),t._v(" "),s("tbody",t._l(t.events,function(e){return s("tr",[s("td",[t._v(t._s(t._f("prettyDateTime")(e.created_at)))]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[s("a",{attrs:{href:"/#/admin/users/"+e.user.id}},[t._v("\n            "+t._s(e.user.email)+"\n          ")])]),t._v(" "),s("td",[t._v(t._s(e.detail))])])}),0)]),t._v(" "),s("div",{staticClass:"page-buttons"},[s("span",[t._v(t._s(t.total)+" Total")]),t._v(" "),s("button",{class:["ui tiny button",{disabled:!t.hasPrevPage}],on:{click:function(e){t.prevPage(t.getEvents)}}},[s("i",{staticClass:"angle left icon"}),t._v("\n      Prev\n    ")]),t._v(" "),s("button",{class:["ui tiny right button",{disabled:!t.hasNextPage}],on:{click:function(e){t.nextPage(t.getEvents)}}},[t._v("\n      Next\n      "),s("i",{staticClass:"angle right icon"})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"seven wide column"},[e("h1",[this._v("Events")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticStyle:{width:"15%"}},[this._v("Date/Time")]),this._v(" "),e("th",{staticStyle:{width:"22%"}},[this._v("Name")]),this._v(" "),e("th",{staticStyle:{width:"32%"}},[this._v("User")]),this._v(" "),e("th",{staticStyle:{width:"31%"}},[this._v("Detail")])])])}]},V=s("VU/8")(O,I,!1,null,null,null).exports,U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticClass:"form-table-row"},[e("td",[e("b",[this._t("label")],2),this._v(" "),e("p",{staticClass:"help"},[this._t("help")],2)]),this._v(" "),e("td",[e("div",{staticClass:"field"},[this._t("input")],2)])])},staticRenderFns:[]};var L=s("VU/8")({name:"FormTableRow"},U,!1,function(t){s("NUXH")},null,null).exports,F={name:"GroupCreate",mixins:[y.AppComponentMixin],components:{FormTableRow:L},data:function(){return{errors:{},group:{key_expires:365,max_devices:2}}},mounted:function(){document.getElementById("groupName").focus()},methods:{createGroup:function(){var t=this;this.axios.post("/admin/groups/",this.group).then(function(e){t.toastr.success("The group was created.","Created"),t.$router.push("/admin/groups")}).catch(function(e){t.errors=e.response.data})}}},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui row"},[t._m(0),t._v(" "),s("div",{staticClass:"ui form"},[s("table",{staticClass:"ui very basic table"},[s("tbody",[s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Group Name\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            A unique name given to the group which describes its purpose and\n            the users and devices that are members of it.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.group.name,expression:"group.name"}],staticClass:"input",attrs:{type:"text",id:"groupName"},domProps:{value:t.group.name},on:{input:function(e){e.target.composing||t.$set(t.group,"name",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.name))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Description\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            Describes the purpose of the group or any special notes that might be\n            of interest to adminisrators.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.group.description,expression:"group.description"}],staticClass:"textarea",attrs:{rows:"5"},domProps:{value:t.group.description},on:{input:function(e){e.target.composing||t.$set(t.group,"description",e.target.value)}}})])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Maximum Devices\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The maximum number of non-revoked devices each user in the group\n            is allowed to have at any one time. When this number is reached,\n            the user will not be allowed to create any additional devices.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.group.max_devices,expression:"group.max_devices"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.group.max_devices},on:{input:function(e){e.target.composing||t.$set(t.group,"max_devices",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.max_devices))+"\n            ")])])],2)],1)])]),t._v(" "),s("div",{staticClass:"form-actions"},[s("a",{staticClass:"ui button",attrs:{href:"/#/admin/groups"}},[t._v("\n      Cancel\n    ")]),t._v(" "),s("button",{staticClass:"ui button green",on:{click:t.createGroup}},[t._v("\n      Create\n    ")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"pageHeader"}},[e("h2",[this._v("New Group")])])}]},z=s("VU/8")(F,G,!1,null,null,null).exports,H={name:"GroupDetail",components:{FormTableRow:L},mixins:[y.AppComponentMixin],data:function(){return{deleteGroupModal:null,firewallRuleModal:null,errors:{},group:{},firewall:[],firewallRule:{},users:[]}},mounted:function(){var t=this;this.getGroup(),this.deleteGroupModal=$("#deleteGroupModal").modal({autofocus:!1}),this.firewallRuleModal=$("#firewallRuleModal").modal({onHide:this.onHideFirewallRuleModal,onShow:this.onShowFirewallRuleModal}),$(".secondary.menu .item").tab({onLoad:function(e,s,a){switch(t.errors=[],e){case"details":t.getGroup();break;case"firewall":t.getFirewallRules();break;case"users":t.getUsers()}}})},beforeDestroy:function(){this.firewallRuleModal.remove()},methods:{getGroup:function(){var t=this;this.axios.get("/admin/groups/"+this.$route.params.id+"/").then(function(e){t.group=e.data,$("#statusDropdown").dropdown("set selected",t.group.is_enabled)})},updateGroup:function(){var t=this;this.axios.put("/admin/groups/"+this.$route.params.id+"/",this.group).then(function(e){t.toastr.success("The group was updated.","Updated")}).catch(function(e){t.errors=e.response.data})},deleteGroup:function(){var t=this;this.axios.delete("/admin/groups/"+this.$route.params.id+"/").then(function(e){t.hideModals(),t.$router.push("/admin/groups"),t.toastr.success("The group was deleted.","Deleted")})},getFirewallRules:function(){var t=this;this.axios.get("/admin/groups/"+this.$route.params.id+"/firewall/").then(function(e){t.firewall=e.data})},createFirewallRule:function(){var t=this;this.firewallRule.group_id=this.group.id,this.axios.post("/admin/firewall/",this.firewallRule).then(function(e){t.toastr.success("The firewall rule was added","Created"),t.getFirewallRules(),t.hideModals(),t.firewallRule={},t.errors=[]}).catch(function(e){t.errors=e.response.data})},deleteFirewallRule:function(t){var e=this;this.axios.delete("/admin/firewall/"+t.id+"/").then(function(t){e.getFirewallRules(),e.toastr.success("The firewall rule was deleted","Deleted")})},getUsers:function(){var t=this;this.axios.get("/admin/groups/"+this.group.id+"/users").then(function(e){t.users=e.data})},toggleFirewallRule:function(t){var e=this;t.is_enabled=!t.is_enabled,this.axios.put("/admin/firewall/"+t.id+"/",t).then(function(t){e.toastr.success("The firewall rule was updated","Updated")})},onShowFirewallRuleModal:function(){this.firewallRule={},$("#actionDropdown").dropdown("set selected","accept"),$("#protocolDropdown").dropdown("set selected","all")},onHideFirewallRuleModal:function(t){this.firewallRule={}}}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui row"},[s("div",{staticClass:"ui grid",attrs:{id:"pageHeader"}},[s("div",{staticClass:"seven wide column"},[s("h1",[t._v(t._s(t.group.name))])]),t._v(" "),s("div",{staticClass:"nine wide column page-actions"},[s("router-link",{staticClass:"ui tiny basic green button",attrs:{to:{name:"UserCreate",params:{groupID:t.group.id}}}},[t._v("\n        Add Users\n      ")]),t._v(" "),s("button",{staticClass:"ui tiny negative button",on:{click:function(e){t.showModal("deleteGroupModal")}}},[t._v("\n        Delete Group\n      ")])],1)]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"ui active tab form",attrs:{"data-tab":"details"}},[s("table",{staticClass:"ui very basic table"},[s("tbody",[s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Group Name\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            A unique name given to the group which describes its purpose and\n            the users and devices that are members of it.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.group.name,expression:"group.name"}],staticClass:"input",attrs:{type:"text",id:"name"},domProps:{value:t.group.name},on:{input:function(e){e.target.composing||t.$set(t.group,"name",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.name))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Description\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            Describes the purpose of the group or any special notes that might be\n            of interest to adminisrators.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.group.description,expression:"group.description"}],staticClass:"textarea",attrs:{rows:"5"},domProps:{value:t.group.description},on:{input:function(e){e.target.composing||t.$set(t.group,"description",e.target.value)}}})])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Status\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The current status of the group, either enabled or disabled. When\n            disabled, any user who is part of the group will not be able to connect\n            to the VPN and any clients currently connected will be disconnected\n            automatically.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.group.is_enabled,expression:"group.is_enabled"}],staticClass:"ui dropdown",attrs:{id:"statusDropdown"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.group,"is_enabled",e.target.multiple?s:s[0])}}},[s("option",{domProps:{value:!0}},[t._v("Enabled")]),t._v(" "),s("option",{domProps:{value:!1}},[t._v("Disabled")])])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Maximum Devices\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The maximum number of non-revoked devices each user in the group\n            is allowed to have at any one time. When this number is reached,\n            the user will not be allowed to create any additional devices.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.group.max_devices,expression:"group.max_devices"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.group.max_devices},on:{input:function(e){e.target.composing||t.$set(t.group,"max_devices",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-errors"},[t._v("\n              "+t._s(t._f("error")(t.errors.max_devices))+"\n            ")])])],2)],1)]),t._v(" "),s("div",{staticClass:"form-actions"},[s("a",{staticClass:"ui button",attrs:{href:"/#/admin/groups"}},[t._v("\n        Cancel\n      ")]),t._v(" "),s("button",{staticClass:"ui button green",on:{click:function(e){t.updateGroup()}}},[t._v("\n        Update\n      ")])])]),t._v(" "),s("div",{staticClass:"ui tab",attrs:{"data-tab":"firewall"}},[t._m(1),t._v(" "),s("table",{staticClass:"ui selectable table"},[t._m(2),t._v(" "),s("tbody",[t._l(t.firewall,function(e){return s("tr",{class:["rule",{disabled:!e.is_enabled,positive:"ACCEPT"===e.action,negative:"ACCEPT"!==e.action}]},[s("td",["ACCEPT"===e.action?s("span",[t._v("ALLOW")]):t._e(),t._v(" "),"DROP"===e.action?s("span",[t._v("DENY")]):t._e()]),t._v(" "),s("td",[t._v(t._s(t._f("firewallRuleAny")(e.destination)))]),t._v(" "),s("td",[t._v(t._s(e.protocol))]),t._v(" "),s("td",[t._v(t._s(t._f("firewallRuleAny")(e.port)))]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[s("button",{staticClass:"ui mini basic red button",on:{click:function(s){t.deleteFirewallRule(e)}}},[t._v("\n              Delete\n            ")])])])}),t._v(" "),t._m(3)],2)]),t._v(" "),s("div",{staticClass:"page-buttons"},[s("button",{staticClass:"ui tiny right icon green button",on:{click:function(e){t.showModal("firewallRuleModal")}}},[s("i",{staticClass:"plus icon"}),t._v(" Add Rule\n      ")])])]),t._v(" "),s("div",{staticClass:"ui tab",attrs:{"data-tab":"users"}},[t.users.length>0?s("table",{staticClass:"ui selectable table"},[t._m(4),t._v(" "),s("tbody",t._l(t.users,function(e){return s("tr",[s("td",[s("router-link",{attrs:{to:{name:"UserDetail",params:{id:e.id}}}},[t._v("\n              "+t._s(e.email)+"\n            ")])],1),t._v(" "),s("td",[t._v("\n            "+t._s(t._f("prettyDateTime")(e.last_login))+"\n          ")])])}),0)]):s("div",{staticClass:"empty"},[s("i",[t._v("There are no users in the group.")])])]),t._v(" "),s("div",{staticClass:"ui tiny modal form",attrs:{id:"firewallRuleModal"}},[s("div",{staticClass:"header"},[t._v("\n      New Firewall Rule\n    ")]),t._v(" "),s("div",{staticClass:"content"},[s("table",{staticClass:"ui very basic table"},[s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Destination\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            An IPv4 CIDR or IP address of the destination host(s).\n          ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.firewallRule.destination,expression:"firewallRule.destination"}],staticClass:"input",attrs:{type:"text",placeholder:"Destination"},domProps:{value:t.firewallRule.destination},on:{input:function(e){e.target.composing||t.$set(t.firewallRule,"destination",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.destination))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Ports\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            A port number, group of port numbers separated by commas, or range\n            of port numbers separated by a colon.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.firewallRule.port,expression:"firewallRule.port"}],staticClass:"ui input",attrs:{type:"text",placeholder:"Any"},domProps:{value:t.firewallRule.port},on:{input:function(e){e.target.composing||t.$set(t.firewallRule,"port",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.port))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Protocol\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The networking protocol that will be permitted.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.firewallRule.protocol,expression:"firewallRule.protocol"}],staticClass:"ui dropdown",attrs:{id:"protocolDropdown"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.firewallRule,"protocol",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"all"}},[t._v("All")]),t._v(" "),s("option",{attrs:{value:"tcp"}},[t._v("TCP")]),t._v(" "),s("option",{attrs:{value:"udp"}},[t._v("UDP")])]),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.protocol))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Action\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The action to take for traffic that matches the firewall rule. Must be either\n            ACCEPT or DROP.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.firewallRule.action,expression:"firewallRule.action"}],staticClass:"ui dropdown",attrs:{id:"actionDropdown"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.firewallRule,"action",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"accept"}},[t._v("ALLOW")]),t._v(" "),s("option",{attrs:{value:"drop"}},[t._v("DENY")])]),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.action))+"\n            ")])])],2)],1)]),t._v(" "),s("div",{staticClass:"actions"},[s("button",{staticClass:"ui button",on:{click:function(e){t.hideModals()}}},[t._v("\n        Cancel\n      ")]),t._v(" "),s("button",{staticClass:"ui green button",on:{click:function(e){t.createFirewallRule()}}},[t._v("\n        Add Rule\n      ")])])]),t._v(" "),s("div",{staticClass:"ui basic modal",attrs:{id:"deleteGroupModal"}},[t._m(5),t._v(" "),t._m(6),t._v(" "),s("div",{staticClass:"actions",staticStyle:{"text-align":"center"}},[s("button",{staticClass:"ui basic inverted button",on:{click:function(e){t.hideModals()}}},[t._v("\n        Cancel\n      ")]),t._v(" "),s("button",{staticClass:"ui basic button red",on:{click:function(e){t.deleteGroup()}}},[t._v("\n        Delete Group\n      ")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui pointing secondary menu"},[e("a",{staticClass:"active item",attrs:{"data-tab":"details"}},[e("i",{staticClass:"cog icon left"}),this._v(" Details\n    ")]),this._v(" "),e("a",{staticClass:"item",attrs:{"data-tab":"firewall"}},[e("i",{staticClass:"fire icon left"}),this._v(" Firewall\n    ")]),this._v(" "),e("a",{staticClass:"item",attrs:{"data-tab":"users"}},[e("i",{staticClass:"users icon left"}),this._v(" Users\n    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{"text-align":"justify"}},[this._v("\n      Firewall rules are evaluated from top to bottom, with all DENY rules being evaluated first followed by all\n      ALLOW rules. If traffic does not match any of the defined rules, then it will be "),e("b",[this._v("denied")]),this._v(" by default.\n    ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticStyle:{width:"12.5%"}},[t._v("Action")]),t._v(" "),s("th",{staticStyle:{width:"25%"}},[t._v("Destination")]),t._v(" "),s("th",{staticStyle:{width:"15%"}},[t._v("Protocol")]),t._v(" "),s("th",{staticStyle:{width:"35%"}},[t._v("Ports")]),t._v(" "),s("th")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"rule negative"},[s("td",[t._v("DENY")]),t._v(" "),s("td",[t._v("anywhere")]),t._v(" "),s("td",[t._v("all")]),t._v(" "),s("td",[t._v("all")]),t._v(" "),s("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticStyle:{width:"66%"}},[this._v("E-mail Address")]),this._v(" "),e("th",[this._v("Last Login")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui icon header"},[e("i",{staticClass:"exclamation triangle icon red"}),this._v("\n      Delete Group Confirmation\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content",staticStyle:{"text-align":"center"}},[e("p",[this._v("\n        Deleting the Group will also delete all of its users, devices, and will\n        disconnect any active OpenVPN clients.\n      ")]),this._v(" "),e("p",[e("b",[this._v("Are you sure you want to delete the group?")])])])}]};var q=s("VU/8")(H,W,!1,function(t){s("r6uS")},null,null).exports,Y={data:function(){return{page:1,pageSize:15,search:"",total:0}},methods:{performSearchOnType:function(t){this.page=1,t()},nextPage:function(t){this.page<this.getTotalPages()&&(this.page++,t())},prevPage:function(t){this.page>1&&(this.page--,t())},getTotalPages:function(){return Math.ceil(this.total/this.pageSize)}},computed:{hasNextPage:function(){return this.page<this.getTotalPages()},hasPrevPage:function(){return this.page>1}}},j={name:"GroupList",mixins:[_,Y],data:function(){return{groups:[]}},mounted:function(){this.getGroups()},methods:{getGroups:function(){var t=this;this.axios.get("/admin/groups?search="+this.search+"&page="+this.page+"&size="+this.pageSize).then(function(e){t.groups=e.data.results,t.total=e.data.count})}}},B={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui row"},[s("div",{staticClass:"ui grid",attrs:{id:"pageHeader"}},[t._m(0),t._v(" "),s("div",{staticClass:"ten wide column page-actions"},[s("div",{staticClass:"ui icon mini input search"},[s("i",{staticClass:"search icon"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input",attrs:{type:"text",placeholder:"Search Groups..."},domProps:{value:t.search},on:{keyup:function(e){t.performSearchOnType(t.getGroups)},input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._v(" "),t._m(1)])]),t._v(" "),s("table",{staticClass:"ui selectable table"},[t._m(2),t._v(" "),s("tbody",t._l(t.groups,function(e){return s("tr",[s("td",[s("a",{attrs:{href:"/#/admin/groups/"+e.id}},[t._v("\n            "+t._s(e.name)+"\n          ")])]),t._v(" "),s("td",[t._v(t._s(e.description))])])}),0)]),t._v(" "),s("div",{staticClass:"page-buttons"},[s("span",[t._v(t._s(t.total)+" Total")]),t._v(" "),s("button",{staticClass:"ui tiny button",on:{click:t.getGroups}},[s("i",{staticClass:"icon sync"}),t._v(" Reload\n    ")]),t._v(" "),s("button",{class:["ui tiny button",{disabled:!t.hasPrevPage}],on:{click:function(e){t.prevPage(t.getGroups)}}},[s("i",{staticClass:"angle left icon"}),t._v("\n      Prev\n    ")]),t._v(" "),s("button",{class:["ui tiny right button",{disabled:!t.hasNextPage}],on:{click:function(e){t.nextPage(t.getGroups)}}},[t._v("\n      Next\n      "),s("i",{staticClass:"angle right icon"})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"six wide column"},[e("h1",[this._v("Groups")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"ui tiny green button",attrs:{href:"/#/admin/groups/new"}},[e("i",{staticClass:"plus icon"}),this._v(" Create Group\n      ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticStyle:{width:"40%"}},[this._v("Name")]),this._v(" "),e("th",{staticStyle:{width:"60%"}},[this._v("Description")])])])}]},K=s("VU/8")(j,B,!1,null,null,null).exports,X={name:"LogList",mixins:[y.AppComponentMixin],data:function(){return{appLog:"",appOffset:0,appRefreshInterval:null,iptablesLog:"",iptablesRefreshInterval:null,openvpnLog:"",openvpnOffset:0,openvpnRefreshInterval:null}},destroyed:function(){this.clearIntervals()},mounted:function(){var t=this;this.getApplicationLog(),this.appRefreshInterval=setInterval(this.getApplicationLog,5e3),this.store.events.$on("vpnStatusChange",this.onVPNStatusChange),this.store.events.$on("vpnRestart",this.onVPNStatusChange),$(".secondary.menu .item").tab({onLoad:function(e,s,a){switch(t.clearIntervals(),e){case"application":t.getApplicationLog(),t.appRefreshInterval=setInterval(t.getApplicationLog,5e3);break;case"openvpn":t.getOpenvpnLog(),t.openvpnRefreshInterval=setInterval(t.getOpenvpnLog,5e3);break;case"iptables":t.getIptablesLog(),t.iptablesRefreshInterval=setInterval(t.getIptablesLog,5e3)}}})},methods:{getApplicationLog:function(){var t=this;this.axios.get("/api/admin/logs/app/?offset="+this.appOffset).then(function(e){t.appLog+=e.data.data,t.appOffset=e.data.offset})},getIptablesLog:function(){var t=this;this.axios.get("/api/admin/logs/iptables/").then(function(e){t.iptablesLog=e.data.data})},getOpenvpnLog:function(){var t=this;this.axios.get("/api/admin/logs/openvpn/?offset="+this.openvpnOffset).then(function(e){t.openvpnLog+=e.data.data,t.openvpnOffset=e.data.offset})},clearIntervals:function(){clearInterval(this.openvpnRefreshInterval),clearInterval(this.appRefreshInterval),clearInterval(this.iptablesRefreshInterval)},onVPNStatusChange:function(t){this.openvpnOffset=0,this.openvpnLog=""}}},J={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui row"},[t._m(0),t._v(" "),s("p",[t._v("\n    Logs are displayed in real-time and refreshed every 5 seconds.\n  ")]),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"ui active tab",attrs:{"data-tab":"application"}},[s("pre",{staticClass:"log",attrs:{id:"appLog"}},[t._v(t._s(t.appLog))])]),t._v(" "),s("div",{staticClass:"ui tab",attrs:{"data-tab":"openvpn"}},[s("pre",{staticClass:"log",attrs:{id:"openvpnLog"}},[t._v(t._s(t.openvpnLog))])]),t._v(" "),s("div",{staticClass:"ui tab",attrs:{"data-tab":"iptables"}},[s("pre",{staticClass:"log",attrs:{id:"iptablesLog"}},[t._v(t._s(t.iptablesLog))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui grid",attrs:{id:"pageHeader"}},[e("div",{staticClass:"seven wide column"},[e("h1",[this._v("Logs")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui pointing secondary menu"},[e("a",{staticClass:"active item",attrs:{"data-tab":"application"}},[e("i",{staticClass:"code icon left"}),this._v(" Application\n    ")]),this._v(" "),e("a",{staticClass:"item",attrs:{"data-tab":"openvpn"}},[e("i",{staticClass:"cloud icon left"}),this._v(" OpenVPN\n    ")]),this._v(" "),e("a",{staticClass:"item",attrs:{"data-tab":"iptables"}},[e("i",{staticClass:"fire icon left"}),this._v(" IPTables\n    ")])])}]};var Q=s("VU/8")(X,J,!1,function(t){s("f+Ew")},null,null).exports,Z={name:"Settings",mixins:[y.AppComponentMixin,y.PaginationMixin],components:{FormTableRow:L},data:function(){return{activeTab:"app",errors:{},settings:{},smtpTestEmail:""}},mounted:function(){var t=this;this.getSettings(),$(".secondary.menu .item").tab({onLoad:function(e,s,a){t.activeTab=e,t.getSettings()}})},methods:{getSettings:function(){var t=this;this.axios.get("/admin/settings/"+this.activeTab).then(function(e){switch(t.settings=e.data,t.activeTab){case"vpn":$("#vpnProtocolDropdown").dropdown("set selected",t.settings.vpn_protocol),$("#vpnInterfaceDropdown").dropdown("set selected",t.settings.vpn_interface),$("#vpnNatInterfaceDropdown").dropdown("set selected",t.settings.vpn_nat_interface);break;case"auth":$("#authType").dropdown("set selected",t.settings.auth_type),$("#oauth2Provider").dropdown("set selected",t.settings.oauth2_provider)}})},updateSettings:function(){var t=this;P(this.settings),this.axios.put("/admin/settings/"+this.activeTab,this.settings).then(function(e){t.toastr.success("The settings have been updated","Settings Updated"),t.errors={},"app_organization"in t.settings&&(t.store.appOrganization=t.settings.app_organization)}).catch(function(e){t.errors=e.response.data})},sendTestEmail:function(){var t=this;this.updateSettings(),this.axios.post("/admin/settings/mail/test",{email:this.smtpTestEmail}).then(function(e){t.toastr.success("A test e-mail was sent.","E-mail Sent"),t.smtpTestEmail=""})},setupLetsEncrypt:function(){var t=this;this.axios.post("/admin/settings/letsEncrypt").then(function(e){t.toastr.success("SSL has been setup! Refreshing...","SSL Setup"),new n.a(function(t){return setTimeout(t,3e3)}).then(function(){location.reload(!0)})}).catch(function(e){t.errors.letsEncrypt=e.response.data})}}},tt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui row"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"ui active tab form",staticStyle:{padding:"1em"},attrs:{"data-tab":"app"}},[s("table",{staticClass:"ui very basic table"},[s("tbody",[s("form-table-row",[s("template",{slot:"label"},[t._v("\n          Organization Name\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The name of your organization that will be displayed on the header of the frontend UI and used when sending\n          application e-mails.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.app_organization,expression:"settings.app_organization"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.app_organization},on:{input:function(e){e.target.composing||t.$set(t.settings,"app_organization",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.app_organization))+"\n          ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n          Hostname\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The hostname or IP address that will be used by users when accessing the frontend web\n          application and generating application links.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.app_hostname,expression:"settings.app_hostname"}],attrs:{type:"text"},domProps:{value:t.settings.app_hostname},on:{input:function(e){e.target.composing||t.$set(t.settings,"app_hostname",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.app_hostname))+"\n          ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n          HTTP Port\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The TCP port number for which the web application will listen for incoming HTTP traffic.\n          Firewall rules will automatically be added for this port.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.app_http_port,expression:"settings.app_http_port"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.app_http_port},on:{input:function(e){e.target.composing||t.$set(t.settings,"app_http_port",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.app_http_port))+"\n          ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n          HTTPs Port\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The TCP port number for which the web application will listen for incoming HTTPs traffic.\n          Firewall rules will automatically be added for this port.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.app_https_port,expression:"settings.app_https_port"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.app_https_port},on:{input:function(e){e.target.composing||t.$set(t.settings,"app_https_port",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.app_https_port))+"\n          ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n          SSL Certificate\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The SSL certificate that will be used to encrypt traffic for the web application.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settings.app_ssl_crt,expression:"settings.app_ssl_crt"}],staticClass:"ui textarea",attrs:{type:"text"},domProps:{value:t.settings.app_ssl_crt},on:{input:function(e){e.target.composing||t.$set(t.settings,"app_ssl_crt",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.app_ssl_crt))+"\n          ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n          SSL Private Key\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The SSL private key that will be used to encrypt traffic for the web application.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settings.app_ssl_key,expression:"settings.app_ssl_key"}],staticClass:"ui textarea",attrs:{type:"text"},domProps:{value:t.settings.app_ssl_key},on:{input:function(e){e.target.composing||t.$set(t.settings,"app_ssl_key",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.app_ssl_key))+"\n          ")])])],2)],1)])]),t._v(" "),s("div",{staticClass:"ui tab form",staticStyle:{padding:"1em"},attrs:{"data-tab":"auth"}},[s("table",{staticClass:"ui very basic table"},[s("tbody",[s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Authentication Type\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The authentication method or source that will be used when authenticating users\n            logging into the web application and connecting to the VPN server.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.settings.auth_type,expression:"settings.auth_type"}],staticClass:"ui dropdown",attrs:{id:"authType"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.settings,"auth_type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"oauth2"}},[t._v("\n              OAuth2\n            ")])]),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.app_auth_type))+"\n            ")])])],2)],1)]),t._v(" "),s("br"),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"oauth2"===t.settings.auth_type,expression:"settings.auth_type === 'oauth2'"}]},[s("h3",[t._v("OAuth2 Settings")]),t._v(" "),s("div",{staticClass:"ui divider"}),t._v(" "),s("table",{staticClass:"ui very basic table"},[s("tbody",[s("form-table-row",[s("template",{slot:"label"},[t._v("\n              OAuth2 Provider\n            ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n              The OAuth2 provider that will be used when authenticating users.\n            ")]),t._v(" "),s("template",{slot:"input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.settings.oauth2_provider,expression:"settings.oauth2_provider"}],staticClass:"ui dropdown",attrs:{id:"oauth2Provider"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.settings,"oauth2_provider",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"google"}},[t._v("\n                  Google\n                ")])]),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n                "+t._s(t._f("error")(t.errors.oauth2_client_id))+"\n              ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n              OAuth2 Client ID\n            ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n              The OAuth2 client ID from a supported OAuth2 provider.\n            ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.oauth2_client_id,expression:"settings.oauth2_client_id"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.oauth2_client_id},on:{input:function(e){e.target.composing||t.$set(t.settings,"oauth2_client_id",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n                "+t._s(t._f("error")(t.errors.oauth2_client_id))+"\n              ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n              OAuth2 Client Secret\n            ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n              The OAuth2 client secret from a supported OAuth2 provider.\n            ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.oauth2_client_secret,expression:"settings.oauth2_client_secret"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.oauth2_client_secret},on:{input:function(e){e.target.composing||t.$set(t.settings,"oauth2_client_secret",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n                "+t._s(t._f("error")(t.errors.oauth2_client_secret))+"\n              ")])])],2)],1)])])]),t._v(" "),s("div",{staticClass:"ui tab form",staticStyle:{padding:"1em"},attrs:{"data-tab":"mail"}},[s("table",{staticClass:"ui very basic table"},[s("tbody",[s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Server\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The hostname or IP address of the SMTP server that will be used to\n            send application e-mails.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.smtp_host,expression:"settings.smtp_host"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.smtp_host},on:{input:function(e){e.target.composing||t.$set(t.settings,"smtp_host",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.smtp_host))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Port\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The port number used by the SMTP server to accept incoming request. This\n            will usually be 25, 465, or 587.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.smtp_port,expression:"settings.smtp_port"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.smtp_port},on:{input:function(e){e.target.composing||t.$set(t.settings,"smtp_port",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.smtp_port))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Username\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The username for the account that will be used to send all\n            application e-mails.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.smtp_username,expression:"settings.smtp_username"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.smtp_username},on:{input:function(e){e.target.composing||t.$set(t.settings,"smtp_username",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.smtp_username))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Password\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The password for the account that will be used to send all\n            application e-mails.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.smtp_password,expression:"settings.smtp_password"}],staticClass:"input",attrs:{type:"password"},domProps:{value:t.settings.smtp_password},on:{input:function(e){e.target.composing||t.$set(t.settings,"smtp_password",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.smtp_password))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Sender Name\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The name that is displayed to the user in the sender field. This should\n            be a user-friendly name that describes your organization.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.smtp_reply_address,expression:"settings.smtp_reply_address"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.smtp_reply_address},on:{input:function(e){e.target.composing||t.$set(t.settings,"smtp_reply_address",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.smtp_reply_address))+"\n            ")])])],2),t._v(" "),s("form-table-row",{staticStyle:{background:"#fafafa"}},[s("template",{slot:"label"},[t._v("\n            Send Test E-mail\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            Test your SMTP configuration by sending a test e-mail to this address. If\n            you do not receive an e-mail within a minute, check your settings.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.smtpTestEmail,expression:"smtpTestEmail"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.smtpTestEmail},on:{input:function(e){e.target.composing||(t.smtpTestEmail=e.target.value)}}}),t._v(" "),s("div",{staticStyle:{width:"100%","margin-top":"0.5em","text-align":"right"}},[s("button",{staticClass:"ui button tiny",on:{click:t.sendTestEmail}},[t._v("\n                Send Test E-mail\n              ")])])])],2)],1)])]),t._v(" "),s("div",{staticClass:"ui tab form",staticStyle:{padding:"1em"},attrs:{"data-tab":"vpn"}},[s("table",{staticClass:"ui very basic table"},[s("tbody",[s("form-table-row",[s("template",{slot:"label"},[t._v("\n          Hostname\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The hostname or IP address that users will use when connecting to\n          the OpenVPN server. This should be a publicly available IP address.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.vpn_hostname,expression:"settings.vpn_hostname"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.vpn_hostname},on:{input:function(e){e.target.composing||t.$set(t.settings,"vpn_hostname",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.vpn_hostname))+"\n          ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n          Interface\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The name of the network interface that the OpenVPN server will bind\n          to and listen for incoming client connections.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.settings.vpn_interface,expression:"settings.vpn_interface"}],staticClass:"ui dropdown",attrs:{id:"vpnInterfaceDropdown"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.settings,"vpn_interface",e.target.multiple?s:s[0])}}},t._l(t.settings.interfaces,function(e,a){return s("option",{domProps:{value:a}},[t._v("\n              "+t._s(a)+" - "+t._s(e)+"\n            ")])}),0),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.vpn_interface))+"\n          ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n          Port\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The port number that the OpenVPN server will bind to and listen for\n          incoming client connections.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.vpn_port,expression:"settings.vpn_port"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.vpn_port},on:{input:function(e){e.target.composing||t.$set(t.settings,"vpn_port",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.vpn_port))+"\n          ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n          Protocol\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The network protocol that will be used for communication between\n          the OpenVPN server and clients.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.settings.vpn_protocol,expression:"settings.vpn_protocol"}],staticClass:"ui dropdown",attrs:{id:"vpnProtocolDropdown"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.settings,"vpn_protocol",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"tcp"}},[t._v("TCP")]),t._v(" "),s("option",{attrs:{value:"udp"}},[t._v("UDP")])]),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.vpn_protocol))+"\n          ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n          Client Subnet\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The CIDR address for the subnet from which clients will be assigned\n          IP addresses. This should be large enough to accomodate the expected\n          number of users.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.vpn_subnet,expression:"settings.vpn_subnet"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.vpn_subnet},on:{input:function(e){e.target.composing||t.$set(t.settings,"vpn_subnet",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.vpn_subnet))+"\n          ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n          NAT Interface\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The name of the network interface that the OpenVPN server will use to\n          NAT traffic from. All traffic from the VPN will have this as it's source\n          IP address when being routed.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.settings.vpn_nat_interface,expression:"settings.vpn_nat_interface"}],staticClass:"ui dropdown",attrs:{id:"vpnNatInterfaceDropdown"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.settings,"vpn_nat_interface",e.target.multiple?s:s[0])}}},t._l(t.settings.interfaces,function(e,a){return s("option",{domProps:{value:a}},[t._v("\n              "+t._s(a)+" - "+t._s(e)+"\n            ")])}),0),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.vpn_nat_interface))+"\n          ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n          Routes\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The list of routes, each on its own line, that will be pushed to\n          each OpenVPN client when connecting. Despite being pushed, clients\n          will still be restricted based on any firewall rules.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settings.vpn_routes,expression:"settings.vpn_routes"}],staticClass:"textarea",attrs:{rows:"5"},domProps:{value:t.settings.vpn_routes},on:{input:function(e){e.target.composing||t.$set(t.settings,"vpn_routes",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.vpn_routes))+"\n          ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n          DNS Servers\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The list of DNS servers, each on its own line, that will be pushed to\n          each OpenVPN client when connecting. Routes to these servers will be\n          automatically pushed.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settings.vpn_nameservers,expression:"settings.vpn_nameservers"}],staticClass:"textarea",attrs:{rows:"5"},domProps:{value:t.settings.vpn_nameservers},on:{input:function(e){e.target.composing||t.$set(t.settings,"vpn_nameservers",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.vpn_nameservers))+"\n          ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n          Domain\n        ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n          The domain name that will be given to each OpenVPN client.\n        ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.vpn_domain,expression:"settings.vpn_domain"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.vpn_domain},on:{input:function(e){e.target.composing||t.$set(t.settings,"vpn_domain",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n            "+t._s(t._f("error")(t.errors.vpn_domain))+"\n          ")])])],2)],1)])]),t._v(" "),s("div",{staticClass:"form-actions"},[s("a",{staticClass:"ui button",attrs:{href:"/#/admin"}},[t._v("\n      Cancel\n    ")]),t._v(" "),s("button",{staticClass:"ui button green",on:{click:t.updateSettings}},[t._v("\n      Update\n    ")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui grid",attrs:{id:"pageHeader"}},[e("div",{staticClass:"seven wide column"},[e("h1",[this._v("Settings")])]),this._v(" "),e("div",{staticClass:"nine wide column page-actions"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui pointing secondary menu"},[e("a",{staticClass:"active item",attrs:{"data-tab":"app"}},[e("i",{staticClass:"wrench horizontal icon let"}),this._v(" General\n    ")]),this._v(" "),e("a",{staticClass:"item",attrs:{"data-tab":"auth"}},[e("i",{staticClass:"lock icon left"}),this._v(" Authentication\n    ")]),this._v(" "),e("a",{staticClass:"item",attrs:{"data-tab":"mail"}},[e("i",{staticClass:"envelope icon left"}),this._v(" E-mail\n    ")]),this._v(" "),e("a",{staticClass:"item",attrs:{"data-tab":"vpn"}},[e("i",{staticClass:"cloud icon left"}),this._v(" OpenVPN\n    ")])])}]},et=s("VU/8")(Z,tt,!1,null,null,null).exports,st={name:"UserCreate",mixins:[_],components:{FormTableRow:L},data:function(){return{errors:{},groups:[],user:{}}},mounted:function(){var t=this;document.getElementById("emails").focus(),$("#notify").dropdown("set selected","true"),$("#groupID").dropdown(),this.axios.get("/admin/groups/all").then(function(e){t.groups=e.data,$("#groupID").dropdown("refresh"),void 0!==t.$route.params.groupID&&setTimeout(function(){$("#groupID").dropdown("set selected",t.$route.params.groupID)},1)})},methods:{create:function(){var t=this;this.axios.post("/admin/users/",this.user).then(function(e){t.$router.push("/admin/users"),t.toastr.success("The users were created.","Users Created")}).catch(function(e){t.errors=e.response.data})}}},at={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui row"},[s("h2",[t._v("Invite Users")]),t._v(" "),s("div",{staticClass:"ui form"},[s("table",{staticClass:"ui very basic table"},[s("tbody",[s("form-table-row",[s("template",{slot:"label"},[t._v("\n            E-mail Addresses\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            A list of the user email addresses, one per line, for users\n            who will be granted access to the application and OpenVPN server.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],attrs:{id:"emails",rows:"6"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.email))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Group\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The group to which each user will be assigned, used to enforce\n            access control and other administrative settings.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.user.group_id,expression:"user.group_id"}],staticClass:"ui selection dropdown",attrs:{id:"groupID"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.user,"group_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{disabled:"",selected:"selected",value:""}},[t._v("\n                Select Group\n              ")]),t._v(" "),t._l(t.groups,function(e){return s("option",{domProps:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n              ")])})],2),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.group_id))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Send Notification\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            Whether to send the user(s) a notification e-mail with instructions\n            on how to setup their account.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.user.notify,expression:"user.notify"}],staticClass:"ui dropdown",attrs:{id:"notify"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.user,"notify",e.target.multiple?s:s[0])}}},[s("option",{domProps:{value:!0}},[t._v("\n                Yes\n              ")]),t._v(" "),s("option",{domProps:{value:!1}},[t._v("\n                No\n              ")])])])],2)],1)])]),t._v(" "),s("div",{staticClass:"form-actions"},[s("a",{staticClass:"ui button",attrs:{href:"/#/admin/users"}},[t._v("\n      Cancel\n    ")]),t._v(" "),s("button",{staticClass:"ui button green",on:{click:t.create}},[t._v("\n      Invite\n    ")])])])},staticRenderFns:[]},nt=s("VU/8")(st,at,!1,null,null,null).exports,it={name:"UserDetail",mixins:[_],components:{FormTableRow:L},data:function(){return{deleteUserModal:null,resetPasswordModal:null,resetTwoFactorModal:null,revokeDeviceModal:null,devices:[],errors:{},user:{},groups:[]}},mounted:function(){var t=this;this.getUser(),this.deleteUserModal=$("#deleteUserModal").modal({autofocus:!1}),this.resetTwoFactorModal=$("#resetTwoFactorModal").modal({autofocus:!1}),this.revokeDeviceModal=$("#revokeDeviceModal"),$(".secondary.menu .item").tab({onLoad:function(e,s,a){switch(t.errors=[],e){case"details":t.getUser();break;case"devices":t.getDevices()}}})},methods:{getUser:function(){var t=this;this.axios.get("/admin/users/"+this.$route.params.id+"/").then(function(e){t.user=e.data,$("#userIsAdmin").dropdown("set selected",t.user.is_admin),$("#userIsEnabled").dropdown("set selected",t.user.is_enabled),t.axios.get("/admin/groups/all/").then(function(e){t.groups=e.data,$("#userGroup").dropdown("set selected",t.user.group.id)})})},updateUser:function(){var t=this;this.axios.put("/admin/users/"+this.$route.params.id+"/",this.user).then(function(e){t.user=e.data,t.toastr.success("The user was updated.","Updated")}).catch(function(e){t.errors=e.response.data})},resetTwoFactor:function(){var t=this;this.axios.put("/admin/users/"+this.$route.params.id+"/mfa/").then(function(e){t.hideModals(),t.toastr.success("The user's two-factor auth was reset.","Updated")})},deleteUser:function(){var t=this;this.axios.delete("/admin/users/"+this.$route.params.id+"/").then(function(e){t.hideModals(),t.$router.push("/admin/users"),t.toastr.success("The user was deleted.","Deleted")})},getDevices:function(){var t=this;this.axios.get("/admin/users/"+this.$route.params.id+"/devices/").then(function(e){t.devices=e.data})},deleteDevice:function(t){var e=this;this.showModal("revokeDeviceModal",{autofocus:!1,onApprove:function(s){e.axios.delete("/admin/devices/"+t.id+"/").then(function(t){e.toastr.success("The device was deleted.","Deleted"),e.getDevices()})}})}}},ot={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui row"},[s("div",{staticClass:"ui grid",attrs:{id:"pageHeader"}},[s("div",{staticClass:"four wide column",staticStyle:{"margin-top":"0.3em"}},[s("h2",[t._v(t._s(t.user.email))])]),t._v(" "),s("div",{staticClass:"twelve wide column page-actions"},[s("button",{staticClass:"ui tiny button",on:{click:function(e){t.showModal("resetTwoFactorModal")}}},[t._v("\n        Reset 2FA\n      ")]),t._v(" "),s("button",{staticClass:"ui tiny negative button",on:{click:function(e){t.showModal("deleteUserModal")}}},[t._v("\n        Delete User\n      ")])])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"ui active tab form",attrs:{"data-tab":"details"}},[s("table",{staticClass:"ui very basic table"},[s("tbody",[s("form-table-row",[s("template",{slot:"label"},[t._v("\n            E-mail Address\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The user's e-mail address and username when logging into the web\n            application and connecting to the OpenVPN server.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"input",attrs:{type:"text",disabled:"disabled"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.email))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Full Name\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The user's full name as set in their OAuth2 account profile and\n            will remain blank until the user logs in for the first time.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"input",attrs:{type:"text",disabled:"disabled"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}}),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.name))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Role\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The user's role within the application, which determines their\n            application permissions and capabilities.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.user.is_admin,expression:"user.is_admin"}],staticClass:"ui dropdown",attrs:{id:"userIsAdmin"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.user,"is_admin",e.target.multiple?s:s[0])}}},[s("option",{domProps:{value:!0,selected:!0===t.user.is_admin}},[t._v("Administrator")]),t._v(" "),s("option",{domProps:{value:!1,selected:!1===t.user.is_admin}},[t._v("Regular User")])]),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.is_admin))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Status\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            Whether the user is able to log in to the application and OpenVPN\n            server. When set to 'Disabled', the user will have no access to\n            either application.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.user.is_enabled,expression:"user.is_enabled"}],staticClass:"ui dropdown",attrs:{id:"userIsEnabled"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.user,"is_enabled",e.target.multiple?s:s[0])}}},[s("option",{domProps:{value:!0}},[t._v("Enabled")]),t._v(" "),s("option",{domProps:{value:!1}},[t._v("Disabled")])]),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.is_enabled))+"\n            ")])])],2),t._v(" "),s("form-table-row",[s("template",{slot:"label"},[t._v("\n            Group\n          ")]),t._v(" "),s("template",{slot:"help"},[t._v("\n            The group to which each user will be assigned, and used to enforce\n            access control and other administration settings.\n          ")]),t._v(" "),s("template",{slot:"input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.user.group_id,expression:"user.group_id"}],staticClass:"ui dropdown",attrs:{id:"userGroup"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.user,"group_id",e.target.multiple?s:s[0])}}},t._l(t.groups,function(e){return s("option",{domProps:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n              ")])}),0),t._v(" "),s("p",{staticClass:"form-error"},[t._v("\n              "+t._s(t._f("error")(t.errors.group_id))+"\n            ")])])],2)],1)]),t._v(" "),s("div",{staticClass:"form-actions"},[s("a",{staticClass:"ui button",attrs:{href:"/#/admin/users"}},[t._v("\n        Cancel\n      ")]),t._v(" "),s("button",{staticClass:"ui button green",on:{click:function(e){t.updateUser()}}},[t._v("\n        Update\n      ")])])]),t._v(" "),s("div",{staticClass:"ui tab",attrs:{"data-tab":"devices"}},[t.devices.length>0?s("div",[s("table",{staticClass:"ui selectable table"},[t._m(1),t._v(" "),s("tbody",t._l(t.devices,function(e){return s("tr",[s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(t._f("prettyDateTime")(e.created_at)))]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[s("button",{staticClass:"ui mini negative basic button",on:{click:function(s){t.deleteDevice(e)}}},[t._v("\n                Revoke\n              ")])])])}),0)])]):s("div",{staticClass:"empty"},[s("i",[t._v("The user has no devices.")])])]),t._v(" "),s("div",{staticClass:"ui basic modal",attrs:{id:"deleteUserModal"}},[t._m(2),t._v(" "),t._m(3),t._v(" "),s("div",{staticClass:"actions",staticStyle:{"text-align":"center"}},[s("button",{staticClass:"ui basic inverted button",on:{click:function(e){t.hideModals()}}},[t._v("\n        Cancel\n      ")]),t._v(" "),s("button",{staticClass:"ui basic button red",on:{click:function(e){t.deleteUser()}}},[t._v("\n        Delete User\n      ")])])]),t._v(" "),s("div",{staticClass:"ui basic modal",attrs:{id:"resetTwoFactorModal"}},[t._m(4),t._v(" "),t._m(5),t._v(" "),s("div",{staticClass:"actions",staticStyle:{"text-align":"center"}},[s("button",{staticClass:"ui basic inverted button",on:{click:function(e){t.hideModals()}}},[t._v("\n        Cancel\n      ")]),t._v(" "),s("button",{staticClass:"ui basic button red",on:{click:function(e){t.resetTwoFactor()}}},[t._v("\n        Reset Two-Factor\n      ")])])]),t._v(" "),t._m(6)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui pointing secondary menu"},[e("a",{staticClass:"active item",attrs:{"data-tab":"details"}},[e("i",{staticClass:"cog icon let"}),this._v(" Details\n    ")]),this._v(" "),e("a",{staticClass:"item",attrs:{"data-tab":"devices"}},[e("i",{staticClass:"laptop icon left"}),this._v(" Devices\n    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticStyle:{width:"30%"}},[this._v("Name")]),this._v(" "),e("th",{staticStyle:{width:"30%"}},[this._v("Created")]),this._v(" "),e("th")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui icon header"},[e("i",{staticClass:"exclamation triangle icon red"}),this._v("\n      Delete User Confirmation\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content",staticStyle:{"text-align":"center"}},[e("p",[this._v("\n        Deleting the user will also delete all of their devices and will\n        disconnect any active VPN connections.\n      ")]),this._v(" "),e("p",[e("b",[this._v("Are you sure you want to delete the user?")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui icon header"},[e("i",{staticClass:"exclamation triangle icon red"}),this._v("\n      Confirm Two-Factor Authentication Reset\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content",staticStyle:{"text-align":"center"}},[e("p",[this._v("\n        Resetting the user's two-factor authentication will force them to\n        re-add it to their mobile app on their next login and their old\n        two-factor authentication will no longer work.\n      ")]),this._v(" "),e("p",[e("b",[this._v("Are you sure you want to reset the user's two-factor authentication?")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui basic modal",attrs:{id:"revokeDeviceModal"}},[s("div",{staticClass:"ui icon header"},[s("i",{staticClass:"exclamation triangle icon red"}),t._v("\n      Revoke Device Confirmation\n    ")]),t._v(" "),s("div",{staticClass:"content",staticStyle:{"text-align":"center"}},[s("p",[t._v("\n        Revoking the device will make it no longer able to connect and will disconnect all\n        of its active OpenVPN clients.\n      ")]),t._v(" "),s("p",[s("b",[t._v("Are you sure you want to revoke the device?")])])]),t._v(" "),s("div",{staticClass:"actions",staticStyle:{"text-align":"center"}},[s("button",{staticClass:"ui basic inverted cancel button"},[t._v("\n        Cancel\n      ")]),t._v(" "),s("button",{staticClass:"ui basic red ok button"},[t._v("\n        Revoke Device\n      ")])])])}]},rt=s("VU/8")(it,ot,!1,null,null,null).exports,lt={name:"UserList",mixins:[_,Y],data:function(){return{users:[]}},mounted:function(){this.getUsers(),$(".dropdown").dropdown()},methods:{getUsers:function(){var t=this;this.axios.get("/admin/users?search="+this.search+"&page="+this.page+"&size="+this.pageSize).then(function(e){t.users=e.data.results,t.total=e.data.count})}}},ct={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui row"},[s("div",{staticClass:"ui grid",attrs:{id:"pageHeader"}},[t._m(0),t._v(" "),s("div",{staticClass:"ten wide column page-actions"},[s("div",{staticClass:"ui icon mini input search"},[s("i",{staticClass:"search icon"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input",attrs:{type:"text",placeholder:"Search Users..."},domProps:{value:t.search},on:{keyup:function(e){t.performSearchOnType(t.getUsers)},input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._v(" "),t._m(1)])]),t._v(" "),s("table",{staticClass:"ui selectable table"},[t._m(2),t._v(" "),s("tbody",t._l(t.users,function(e){return s("tr",[s("td",[s("a",{class:{disabled:!1===e.is_enabled},attrs:{href:"/#/admin/users/"+e.id}},[t._v("\n            "+t._s(e.email)+"\n          ")])]),t._v(" "),s("td",[s("a",{attrs:{href:"/#/admin/groups/"+e.group.id}},[t._v("\n            "+t._s(e.group.name)+"\n          ")])]),t._v(" "),s("td",[t._v(t._s(t._f("prettyDateTime")(e.last_login)))])])}),0)]),t._v(" "),s("div",{staticClass:"page-buttons"},[s("span",[t._v(t._s(t.total)+" Total")]),t._v(" "),s("button",{staticClass:"ui tiny button",on:{click:t.getUsers}},[s("i",{staticClass:"icon sync"}),t._v(" Reload\n    ")]),t._v(" "),s("button",{class:["ui tiny button",{disabled:!t.hasPrevPage}],on:{click:function(e){t.prevPage(t.getUsers)}}},[s("i",{staticClass:"angle left icon"}),t._v("\n      Prev\n    ")]),t._v(" "),s("button",{class:["ui tiny right button",{disabled:!t.hasNextPage}],on:{click:function(e){t.nextPage(t.getUsers)}}},[t._v("\n      Next\n      "),s("i",{staticClass:"angle right icon"})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"six wide column"},[e("h1",[this._v("Users")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"ui tiny green button",attrs:{href:"/#/admin/users/invite"}},[e("i",{staticClass:"plus icon"}),this._v(" Invite Users\n      ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticStyle:{width:"35%"}},[this._v("E-mail Address")]),this._v(" "),e("th",{staticStyle:{width:"35%"}},[this._v("Group")]),this._v(" "),e("th",{staticStyle:{width:"30%"}},[this._v("Last Login")])])])}]};var ut=s("VU/8")(lt,ct,!1,function(t){s("zVK4")},null,null).exports;i.a.use(C.a);var vt=new C.a({routes:[{path:"/",name:"Profile",component:N},{path:"/admin",name:"Admin",component:k,children:[{path:"",name:"AdminIndex",redirect:"clients"},{path:"clients",name:"ClientList",component:M},{path:"events",name:"EventList",component:V},{path:"groups",name:"GroupList",component:K},{path:"groups/new",name:"GroupCreate",component:z},{path:"groups/:id",name:"GroupDetail",component:q},{path:"logs",name:"LogList",component:Q},{path:"settings",name:"SettingList",component:et},{path:"users",name:"UserList",component:ut},{path:"users/invite",name:"UserCreate",component:nt,props:!0},{path:"users/:id",name:"UserDetail",component:rt}]}]});function pt(t){var e=t.getMonth()+1,s=t.getDate(),a=t.getFullYear();return e<10&&(e="0"+e),s<10&&(s="0"+s),e+"/"+s+"/"+a}i.a.filter("error",function(t){if(Array.isArray(t))return t[0]}),i.a.filter("remoteIP",function(t){return t.split(":")[0]}),i.a.filter("prettyDate",function(t){return pt(new Date(t))}),i.a.filter("secsToHoursMins",function(t){if(t<60)return Math.floor(t)+"s";var e=Math.floor(t/3600),s=Math.floor((t-3600*e)/60);return e>0?s<10?e+"h 0"+s+"m":e+"h "+s+"m":s+"m"}),i.a.filter("prettyDateTime",function(t){var e=new Date(t),s=pt(e)+" "+function(t){var e=t.getHours(),s=t.getMinutes(),a=t.getSeconds();e<10&&(e="0"+e);s<10&&(s="0"+s);a<10&&(a="0"+a);return e+":"+s+":"+a}(e);return"12/31/1969 16:00:00"===s?"":s}),i.a.filter("firewallRuleAny",function(t){return""===t||null===t?"all":t}),r.a.interceptors.request.use(function(t){return t.headers["X-CSRFToken"]=d.a.get("csrftoken"),t}),i.a.config.productionTip=!1,i.a.use(d.a),i.a.use(v.a,r.a),r.a.defaults.baseURL="/api",r.a.interceptors.response.use(function(t){return t},function(t){switch(t.response.status){case 401:case 403:window.location.href="/logout";break;case 404:c.a.error("The resource could not be found.","Not Found");break;default:t.response.status>=500&&c.a.error("A server error occurred.","Server Error")}return n.a.reject(t)}),new i.a({el:"#app",router:vt,components:{App:w},template:"<App/>"})},NUXH:function(t,e){},"f+Ew":function(t,e){},jPar:function(t,e){},r6uS:function(t,e){},zVK4:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.36385293e6a2f86ee474.js.map